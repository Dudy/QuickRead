package de.podolak.quickread.data.persistence.ejb;

import de.podolak.quickread.data.persistence.ejb.exceptions.NonexistentEntityException;
import de.podolak.quickread.data.persistence.ejb.exceptions.RollbackFailureException;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.EntityNotFoundException;
import javax.persistence.Query;
//import javax.persistence.criteria.CriteriaQuery;
//import javax.persistence.criteria.Root;

/**
 *
 * @author Dude
 */
public class DocumentJpaController implements Serializable {

    public static Document document = new Document(
            1L,
            "<?xml version=\"1.0\" encoding=\"UTF-8\"?><document id=\"1\" createDate=\"1350410254639\" lastModifyDate=\"1350410254639\"><node title=\"Berthold Wigger - Grundzüge der Finanzwissenschaft\"><node title=\"Inhalt\"><node title=\"Teil 0 Einführung\"><node title=\"Einführung\"><node title=\"Allgemeines\"><node title=\"Gegenstand der Finanzwissenschaft\"><text>Gegenstand der Finanzwissenschaft ist der Staat</text></node><node title=\"ökonomische Bedeutung des Staates\"><text>Historie - wie entwickelte sich alles?Besonderheiten des Akteurs \"Staat\" in sonst freier Marktwirtschaft - was unterscheidet den Staat von anderen Akteuren? TODO: welche gibt es noch?internationaler Vergleich der Staatstätigkeit (Vergleich Deutschland - Welt)Ursachen der quantitativen Entwicklung der Staatstätigkeit (wie kommt es zu den Zahlen, die man in den Nachrichten lesen kann?)</text></node><node title=\"Definition\"><text>                                Finanzwissenschaft ist die Ökonomie des öffentlichen Sektors, die Analyse der Ökonomie der Staatstätigkeit                                TODO: definiere \"öffentlicher Sektor\" (zunächst abgekürzt als \"Staat\")                                                                            </text></node><node title=\"zwei Arten der Analyse: normativ, positiv\"><text>                                2. positiv: untersuchen, wie der Staat tatsächlich tätig wird (inkl. Interaktion mit nichtstaatlichen Marktteilnehmern) (Teil 2)                                    2a) Einnahmen: Steuern, Kreditaufnahme (Teil 3)                                    2b) Ausgaben: v.a. Wohlfahrt (Teil 4) TODO: was zählt hierunter?                                                                            </text></node></node><node title=\"Historie\"><node title=\"Finanzwissenschaft - Staat\"><text>Finanzwissenschaft entwickelte sich mit dem (Gebilde) Staat zusammen</text></node><node title=\"Kameralismus\"><text>Kameralismus (camera -> (Schatz-)Kammer, ab 17. Jhdt.): Einbringen von Einnahmen des Fürstentums, wohlwollender Fürst (und somit Staat), gehorsames Volk</text></node><node title=\"britische Klassiker\"><text>britische \"Klassiker\" (Adam Smith, David Ricardo, 18. Jhdt.): freie Marktwirtschaft, Rolle des Staates nicht Lenker der Wirtschaft, sondern nur Verteidigung, Rechtssprechung, Bildung, Infrastruktur</text></node><node title=\"Neoklassiker\"><text>Neoklassiker (2. Hälfte 19. Jhdt.): ähnliche Ansichten wie Klassiker (wenig Staat im Markt), aber Entwicklung bedeutender Konzepte: Darstellung per Marginalbedingung (TODO: was ist das?), Darstellung von Prozessen des Marktes durch individuelles Optimalkalkül (TODO: was ist das? evtl. hier auch nur Verweis nach hinten), John Stuart Mill, Hermann Heinrich Gossen, Alfred Marshall</text></node><node title=\"Abspaltung positiver Theorie\"><text>Abspaltung positiver Theorie (Knut Wicksell, Ende 19. Jhdt.): Abhängigkeit staatlicher Einnahmen/Ausgaben von Gesellschaft (*öffentliche Willensbildung* TODO erklären!)  in 2. Hälfte des 20.Jhdt. weiterentwickelt von James M. Buchanan und Gordon Tullock zu ökonomischer Theorie der Verfassung: alle Entscheidungen am Markt (staatlich, individuell oder in Gruppen) geht vom einzelnen Individuum aus (methodologischer Individualismus)</text></node><node title=\"neoklassische Weiterentwicklung\"><text>Neoklassik entwickelt sich weiter (1. Hälfte 20. Jhdt.) zu Theorie der öffentlichen Güter (Erik Lindahl, später analytischer durch Paul Samuelson) und der externen Effekte (Arthur Pigou, weiterentwickelt von Ronald Coase) (TODO erklären!), bildet heute Fundament der normativen Theorie der Staatstätigkeit zusammen mit Theorie natürlicher Monopole (öffentlicher Unternehmen, bereis Wicksell hat über deren Regulierung nachgedacht), in 2. Hälfte 20.Jhdt. formalisiert von Boiteux</text></node><node title=\"Formalisierung\"><text>Richard Musgrave formalisiert Finanzwissenschaft mit Schwerpunkten: Allokation (wofür werden Güter verwendet), Distribution (wie werden Güter verteilt), Stabilisierung (Steuerung des Konjunkturverlaufs, heute eher bei Makroökonomik (TODO erklären!) als bei Finanzwissenschaft angesiedelt), letzteres vor allem von John Maynard Keynes als Staatsaufgabe definiert: in Krisenzeiten sollen Staatsausgaben Arbeitslosigkeit eindämmen und Konjunktur ankurbeln (über Dekaden vorherrschende Lehrmeinung, in letzten Zeit zunehmend kritisch betrachtet)</text></node><node title=\"jüngste Entwicklung\"><text>jüngste Entwicklung (letzte 30 Jahre) informationsökonomisch (James Mirrlees' optimale Besteuerung (TODO erklären!), schon von Frank Ramsey 40 Jahre vorher umrissen, von Michael Rothschild/Jospeh Stiglitz auf Versicherungen ausgedehnt)</text></node></node><node title=\"der Staat\"><node title=\"Staat = öffentlicher Sektor\"><text>zunächst sei der Einfachheit halber der Staat gleichgesetzt mit dem öffentlichen Sektor</text></node><node title=\"Gebietskörperschaften\"><text>Gebietkörperschaften (EU, Bund, Länger, Gemeinden)</text></node><node title=\"Parafiski\"><text>                                Parafiski (Institutionen \"zwischen\" Staat und Privat, eigener Haushalt, eigene Finanzquellen)                                - Sozialfiski (eher staatlich: Sozialversicherungen, Bundesanstalt für Arbeit, Bundesbank, kommunale Versorger)                                - Kirchenfiski (eher privat: Kirchen)                                - Berufsfiski (eher privat: IHK, Landwirtschaftskammer)                                - Andere (eigentlich privat, aber staatliche Züge: Deutsche Bahn)                                                                            </text></node><node title=\"nicht exakt abgrenzbarer Staat\"><text>Staat meist nicht exakt abgrenzbar zu Privatwirtschaft, Grenzen oft verschwommen, aber immer allgegenwärtig</text><node title=\"Beispiele\"><text>Rundfunk, Wasser- und Stromversorgung, Steueraufkommen, ÖPNV, Bildung (Schulen, Universitäten), Verkehrswege</text></node><node title=\"Folgerung\"><text>                                    auch bei gefühlter großer Freiheit ist Staat allgegenwärtig und kann sogar Funktionen übernehmen, die auch privat sein könnten (oder parallel sogar sind)                                    Besonderheiten dabei                                    - Zwang                                    - Legitimation                                    - kollektive Entscheidung                                                                                        </text><node title=\"Zwang\"><text>private Marktteilnehmer agieren freiwillig, Staat aber kann (legal) Zwang ausübern (Steuern)</text></node><node title=\"Legitimation\"><text>Verfassung, Gesetze und Wahlen legitimieren staatlichen Zwang</text></node><node title=\"kollektive Entscheidung\"><text>                                        Entscheidungsfindung als Konsensbildung in Gruppen (Wähler, Parlament, Gremien)                                        individuelle Präferenzen (die transitiv sind) führen zu kollektiver Präferenz (die oft *nicht* transitiv sind)                                                                                                    </text></node></node></node></node><node title=\"Umfang der Staatstätigkeit\"><node title=\"Staatsquote\"><text>                                Staatsquote = staatliche Ausgaben / Bruttoinlandsprodukt                                Beispiele: 1970 / 2004                                    Deutschland : 38,7% / 47,5%                                    Frankreich  : 38,9% / 54,5%                                    Griechenland: 22,1% / 52,0%                                    Japan       : 19,4% / 36,7%                                    USA         : 32,3% / 35,6%                                                                            </text></node><node title=\"Wagnersches Gesetz\"><text>                                Staat ist wichtiger Wirtschaftsfaktor                                Staatsquote wird allgemein immer größer                                wächst sogar schneller als BIP (=> Wagnersches Gesetzt)                                                                            </text></node><node title=\"Erklärungsansätze\"><text>mögliche Erklärungen für Wachstum der Staatsausgaben / Staatsquote</text><node title=\"superiore Güter\"><text>                                    einfachste Annahme: staatliche Leistungen sind \"superior\" (werden bei steigendem Einkommen vermehrt nachgefragt)                                    Staatsquotenanstieg reflektiert die Nachfrage der Bürger                                    Erläuterung (von mir):                                    - wenn jemand arm ist, hat er wenig Geld, er kann dann per se nur preiswerte Güter nachfragen, deren Bedarf von jedem Händler gestillt werden kann (z.B. Nahrung, Kleidung)                                    - wenn jemand mehr Geld hat, fragt er teurere Güter nach, vielleicht kauft er ein Auto und braucht Straßen, Infrastrukturausbau leistet dann der Staat, weil's für                                      private Marktteilnehmer eine zu hohe Investition mit zu niedrigen Erträgen ist (privat per Maut finanzierte Autobahnen gehen grad noch, eine Straße innerorts, deren                                      Benutzung kostenfrei erfolgt, geht schon nicht mehr, hat sich im Laufe der Zeit so entwickelt)                                    - wenn jemand saureich ist, verlangt es ihn wahrscheinlich nur noch nach immateriellen Gütern wie Frieden, Stabilität, Freiheit, das kann nur der Staat garantieren                                                                                        </text></node><node title=\"fiskalische Illusion\"><text>                                    Wähler verstehen Staatsausgaben nicht (v.a. woher der Staat das Geld hat, das er ausgibt)                                    Wähler wählen Regierungen, die hohe Staatsausgaben tätigen                                    Steuersysteme sind durchaus bewußt komplex, eben damit die Wähler sie nicht durchschauen                                                                                        </text></node><node title=\"intergenerationelle Lastenverschiebung\"><text>                                    Großprojekte werden mit sehr lang laufenden Krediten finanziert, so daß ein Teil der Last auf spätere Generationen verschoben wird                                    Anmerkung von mir: teilweise ist ein solches Vorgehen sogar sinnvoll, etwa wenn heute eine Brücke gebaut wird, die hundert Jahre hält und von zukünftigen Generationen ebenso genutzt wird wie von heutigen, dann kann man auch die zukünftigen Generationen an den Kosten beteiligen                                                                                        </text></node><node title=\"Urbanisierung\"><text>Brecht'sches Gesetz: Staatsausgaben in Städten sind höher als auf dem Land, höhere Quote Stadt-/Landbewohner führen zu höheren Staatsausgaben; Arnold Brecht 1927</text></node><node title=\"Baumol-Effekt\"><text>                                    technischer Fortschritt => verbilligt Waren stark, Dienstleistungen nur schwach => Ausgabenanteil an Dienstleistungen steigt                                    staatliche Leistungen sind meist Dienstleistungen => Staatsausgaben steigen                                    auch: Baumol-Kostenkrankheit                                    William Baumol 1967                                    TODO: besser erklären                                                                                        </text></node><node title=\"Demokratisierung\"><text>                                    in letzten 150 Jahren wurde das Wahlrecht immer breiter verteilt                                    der \"Durchschnittswähler\" wurde immer ärmer und setzte immer mehr staatliche Leistungen zu seinen Gunsten durch                                                                                        </text></node><node title=\"demografischer Wandel\"><text>                                    höhere staatliche Leistungen wie Altersrente, Gesundheitsausgaben, Linderung der Altersarmut                                    Anmerkung: in Deutschland durch hohe soziale Standards und schnelle Vergreisung besonders ausgeprägt                                                                                        </text></node></node></node><node title=\"Übungsaufgaben\"><node title=\"Aufgabe 1\"><text>                                Abgrenzung staatlicher Institutionen von privaten durch                                1. höhere Finanzmittel                                2. mögliche Zwangsausübung                                3. geringere Produktivität                                4. Gemeinwohlorientierung                                5. kollektive Entscheidungen                                mögliche Antworten                                a) 1., 3. und 5.                                b) 2. und 5.                                c) 2., 3. und 4.                                d) 1., 2. und 5.                                                                            </text></node><node title=\"Aufgabe 2\"><text>                                Baumol-Effekt triff auf bei                                a) gleicher Produktivitätszuwachs in Industrie und Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung gering ist                                b) geringem Produktivitätszuwachs in Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung groß ist                                c) geringem Produktivitätszuwachs in Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung gering ist                                d) hohem Produktivitätszuwachs in Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung groß ist                                                                            </text></node><node title=\"Aufgabe 3\"><text>                                ökonomische Rolle des Staats                                a) einziger Ausüber von Zwang                                b) Zwangsmöglichkeit durch Wahlen begrenzt                                c) staatliches Handeln als kollektive Entscheidung                                d) alles richtig                                                                            </text></node><node title=\"Aufgabe 4\"><text>                                Wagnersches Gesetz des Staatsausgabenwachstums                                a) Staatsausgaben wachsen schneller als Sozialprodukt                                b) Wählerkönnen Steuererhebungen und Staatsausgaben nicht korrelieren                                c) zunehmende Umverteilung durch breiteres Wahlrecht                                d) Staatsausgabenwachstum zu hoch                                                                            </text></node><node title=\"Aufgabe 5\"><text>                                herausragende Person in Erforschung gesellschaftlicher Entscheidungsregeln                                a) Keynes                                b) Pigou                                c) Wicksell                                d) Musgrave                                                                            </text></node><node title=\"Aufgabe 6\"><text>                                normativer Zweig                                                                a) Beurteilung tatsächlichen Verhaltens staatlicher Akteure                                b) Erklärung tatsächlichen Verhaltens staatlicher Akteure                                c) Analyse der Musgraveschen Stabilisierungsaufgabe                                d) etwas anderes                                                                            </text></node><node title=\"Aufgabe 7\"><text>                                Staatsquote                                a) mißt Umfang der Staatstätigkeit schlecht, weil Ausgaben zur sozialen Sicherung nicht enthalten                                b) hoch, wenn Staat nur superiore Güter anbietet                                c) nimmt laut Wagnerschem Gesetz mit Zeit zu                                d) richtig sind b und c                                                                            </text></node><node title=\"Aufgabe 8\"><text>                                konsistente individuelle Präferenzen                                                                a) sind nicht hinreichend für konsistente kollektive                                b) sind hinreichend für konsistente kollektive                                c) unwichtig in Politik wegen Möglichkeit politischen Zwangs                                d) richtig sind b und c                                                                            </text></node><node title=\"Aufgabe 9\"><text>                                frühe Informationsökonomik                                a) durch Erik Lindahl und Arthur Pigou                                b) wenig Einfluß auf Finanzwissenschaft                                c) durch John Maynard Keynes und Richard Musgrave                                d) behandelt steuer- und versicherungstheoretische Fragen                                                                            </text></node><node title=\"Aufgabe 10\"><text>                                Fiskalillusion                                a) Politik verschleiert bewußt Gesamtabgabenlast durch Komplexität der Einnahme-/Ausgabesysteme                                b) bei geringem Produktivitätswachstum bei privaten Dienstleistungen, wenn Nachfrage nach staatlichen hoch ist                                c) Folge zunehmender Urbanisierung                                d) richtig sind b und c                                                                            </text></node></node></node></node><node title=\"Teil 1 Normative Theorie der Staatstätigkeit\"><node title=\"Die wohlfahrtsökonomische Referenzwelt\"></node><node title=\"öffentliche Güter\"></node><node title=\"externe Effekte\"></node><node title=\"doofer Titel\"><text>doofe Beschreibung</text></node></node><node title=\"Teil 2 Positive Theorie der Staatstätigkeit\"></node><node title=\"Teil 3 Öffentliche Einnahmen\"></node><node title=\"Teil 4 Der Wohlfahrtsstaat\"></node></node></node></document>");

    public DocumentJpaController(EntityManagerFactory emf) {
        this.emf = emf;
    }
    private EntityManagerFactory emf = null;

    public EntityManager getEntityManager() {
        return emf.createEntityManager();
    }

    public void create(Document document) throws RollbackFailureException, Exception {
        EntityManager em = null;
        try {
            em = getEntityManager();
            em.getTransaction().begin();
            em.persist(document);
            em.getTransaction().commit();
        } catch (Exception ex) {
            try {
                em.getTransaction().rollback();
            } catch (Exception re) {
                throw new RollbackFailureException("An error occurred attempting to roll back the transaction.", re);
            }
            throw ex;
        } finally {
            if (em != null) {
                em.close();
            }
        }
    }

    public void edit(Document document) throws NonexistentEntityException, RollbackFailureException, Exception {
        EntityManager em = null;
        try {
            em = getEntityManager();
            em.getTransaction().begin();
            document = em.merge(document);
            em.getTransaction().commit();
        } catch (Exception ex) {
            try {
                em.getTransaction().rollback();
            } catch (Exception re) {
                throw new RollbackFailureException("An error occurred attempting to roll back the transaction.", re);
            }
            String msg = ex.getLocalizedMessage();
            if (msg == null || msg.length() == 0) {
                Long id = document.getId();
                if (findDocumentEntity(id) == null) {
                    throw new NonexistentEntityException("The document with id " + id + " no longer exists.");
                }
            }
            throw ex;
        } finally {
            if (em != null) {
                em.close();
            }
        }
    }

    public void destroy(Integer id) throws NonexistentEntityException, RollbackFailureException, Exception {
        EntityManager em = null;
        try {
            em = getEntityManager();
            em.getTransaction().begin();
            Document document;
            try {
                document = em.getReference(Document.class, id);
                document.getId();
            } catch (EntityNotFoundException enfe) {
                throw new NonexistentEntityException("The document with id " + id + " no longer exists.", enfe);
            }
            em.remove(document);
            em.getTransaction().commit();
        } catch (Exception ex) {
            try {
                em.getTransaction().rollback();
            } catch (Exception re) {
                throw new RollbackFailureException("An error occurred attempting to roll back the transaction.", re);
            }
            throw ex;
        } finally {
            if (em != null) {
                em.close();
            }
        }
    }

    public List<Document> findDocumentEntities() {
        return findDocumentEntities(true, -1, -1);
    }

    public List<Document> findDocumentEntities(int maxResults, int firstResult) {
        return findDocumentEntities(false, maxResults, firstResult);
    }

    private List<Document> findDocumentEntities(boolean all, int maxResults, int firstResult) {
//        EntityManager em = getEntityManager();
//        try {
//            CriteriaQuery cq = em.getCriteriaBuilder().createQuery();
//            cq.select(cq.from(Document.class));
//            Query q = em.createQuery(cq);
//            if (!all) {
//                q.setMaxResults(maxResults);
//                q.setFirstResult(firstResult);
//            }
//            return q.getResultList();
//        } finally {
//            em.close();
//        }
        
        //Document document = new Document(1, "<?xml version=\"1.0\" encoding=\"UTF-8\"?><document id=\"1\"><node title=\"Berthold Wigger - Grundzüge der Finanzwissenschaft\"><node title=\"Inhalt\"><node title=\"Teil 0 Einführung\"><node title=\"Einführung\"><node title=\"Allgemeines\"><node title=\"Gegenstand der Finanzwissenschaft\"><text>Gegenstand der Finanzwissenschaft ist der Staat</text></node><node title=\"ökonomische Bedeutung des Staates\"><text>Historie - wie entwickelte sich alles?Besonderheiten des Akteurs \"Staat\" in sonst freier Marktwirtschaft - was unterscheidet den Staat von anderen Akteuren? TODO: welche gibt es noch?internationaler Vergleich der Staatstätigkeit (Vergleich Deutschland - Welt)Ursachen der quantitativen Entwicklung der Staatstätigkeit (wie kommt es zu den Zahlen, die man in den Nachrichten lesen kann?)</text></node><node title=\"Definition\"><text>                                Finanzwissenschaft ist die Ökonomie des öffentlichen Sektors, die Analyse der Ökonomie der Staatstätigkeit                                TODO: definiere \"öffentlicher Sektor\" (zunächst abgekürzt als \"Staat\")                                                                            </text></node><node title=\"zwei Arten der Analyse: normativ, positiv\"><text>                                2. positiv: untersuchen, wie der Staat tatsächlich tätig wird (inkl. Interaktion mit nichtstaatlichen Marktteilnehmern) (Teil 2)                                    2a) Einnahmen: Steuern, Kreditaufnahme (Teil 3)                                    2b) Ausgaben: v.a. Wohlfahrt (Teil 4) TODO: was zählt hierunter?                                                                            </text></node></node><node title=\"Historie\"><node title=\"Finanzwissenschaft - Staat\"><text>Finanzwissenschaft entwickelte sich mit dem (Gebilde) Staat zusammen</text></node><node title=\"Kameralismus\"><text>Kameralismus (camera -> (Schatz-)Kammer, ab 17. Jhdt.): Einbringen von Einnahmen des Fürstentums, wohlwollender Fürst (und somit Staat), gehorsames Volk</text></node><node title=\"britische Klassiker\"><text>britische \"Klassiker\" (Adam Smith, David Ricardo, 18. Jhdt.): freie Marktwirtschaft, Rolle des Staates nicht Lenker der Wirtschaft, sondern nur Verteidigung, Rechtssprechung, Bildung, Infrastruktur</text></node><node title=\"Neoklassiker\"><text>Neoklassiker (2. Hälfte 19. Jhdt.): ähnliche Ansichten wie Klassiker (wenig Staat im Markt), aber Entwicklung bedeutender Konzepte: Darstellung per Marginalbedingung (TODO: was ist das?), Darstellung von Prozessen des Marktes durch individuelles Optimalkalkül (TODO: was ist das? evtl. hier auch nur Verweis nach hinten), John Stuart Mill, Hermann Heinrich Gossen, Alfred Marshall</text></node><node title=\"Abspaltung positiver Theorie\"><text>Abspaltung positiver Theorie (Knut Wicksell, Ende 19. Jhdt.): Abhängigkeit staatlicher Einnahmen/Ausgaben von Gesellschaft (*öffentliche Willensbildung* TODO erklären!)  in 2. Hälfte des 20.Jhdt. weiterentwickelt von James M. Buchanan und Gordon Tullock zu ökonomischer Theorie der Verfassung: alle Entscheidungen am Markt (staatlich, individuell oder in Gruppen) geht vom einzelnen Individuum aus (methodologischer Individualismus)</text></node><node title=\"neoklassische Weiterentwicklung\"><text>Neoklassik entwickelt sich weiter (1. Hälfte 20. Jhdt.) zu Theorie der öffentlichen Güter (Erik Lindahl, später analytischer durch Paul Samuelson) und der externen Effekte (Arthur Pigou, weiterentwickelt von Ronald Coase) (TODO erklären!), bildet heute Fundament der normativen Theorie der Staatstätigkeit zusammen mit Theorie natürlicher Monopole (öffentlicher Unternehmen, bereis Wicksell hat über deren Regulierung nachgedacht), in 2. Hälfte 20.Jhdt. formalisiert von Boiteux</text></node><node title=\"Formalisierung\"><text>Richard Musgrave formalisiert Finanzwissenschaft mit Schwerpunkten: Allokation (wofür werden Güter verwendet), Distribution (wie werden Güter verteilt), Stabilisierung (Steuerung des Konjunkturverlaufs, heute eher bei Makroökonomik (TODO erklären!) als bei Finanzwissenschaft angesiedelt), letzteres vor allem von John Maynard Keynes als Staatsaufgabe definiert: in Krisenzeiten sollen Staatsausgaben Arbeitslosigkeit eindämmen und Konjunktur ankurbeln (über Dekaden vorherrschende Lehrmeinung, in letzten Zeit zunehmend kritisch betrachtet)</text></node><node title=\"jüngste Entwicklung\"><text>jüngste Entwicklung (letzte 30 Jahre) informationsökonomisch (James Mirrlees' optimale Besteuerung (TODO erklären!), schon von Frank Ramsey 40 Jahre vorher umrissen, von Michael Rothschild/Jospeh Stiglitz auf Versicherungen ausgedehnt)</text></node></node><node title=\"der Staat\"><node title=\"Staat = öffentlicher Sektor\"><text>zunächst sei der Einfachheit halber der Staat gleichgesetzt mit dem öffentlichen Sektor</text></node><node title=\"Gebietskörperschaften\"><text>Gebietkörperschaften (EU, Bund, Länger, Gemeinden)</text></node><node title=\"Parafiski\"><text>                                Parafiski (Institutionen \"zwischen\" Staat und Privat, eigener Haushalt, eigene Finanzquellen)                                - Sozialfiski (eher staatlich: Sozialversicherungen, Bundesanstalt für Arbeit, Bundesbank, kommunale Versorger)                                - Kirchenfiski (eher privat: Kirchen)                                - Berufsfiski (eher privat: IHK, Landwirtschaftskammer)                                - Andere (eigentlich privat, aber staatliche Züge: Deutsche Bahn)                                                                            </text></node><node title=\"nicht exakt abgrenzbarer Staat\"><text>Staat meist nicht exakt abgrenzbar zu Privatwirtschaft, Grenzen oft verschwommen, aber immer allgegenwärtig</text><node title=\"Beispiele\"><text>Rundfunk, Wasser- und Stromversorgung, Steueraufkommen, ÖPNV, Bildung (Schulen, Universitäten), Verkehrswege</text></node><node title=\"Folgerung\"><text>                                    auch bei gefühlter großer Freiheit ist Staat allgegenwärtig und kann sogar Funktionen übernehmen, die auch privat sein könnten (oder parallel sogar sind)                                    Besonderheiten dabei                                    - Zwang                                    - Legitimation                                    - kollektive Entscheidung                                                                                        </text><node title=\"Zwang\"><text>private Marktteilnehmer agieren freiwillig, Staat aber kann (legal) Zwang ausübern (Steuern)</text></node><node title=\"Legitimation\"><text>Verfassung, Gesetze und Wahlen legitimieren staatlichen Zwang</text></node><node title=\"kollektive Entscheidung\"><text>                                        Entscheidungsfindung als Konsensbildung in Gruppen (Wähler, Parlament, Gremien)                                        individuelle Präferenzen (die transitiv sind) führen zu kollektiver Präferenz (die oft *nicht* transitiv sind)                                                                                                    </text></node></node></node></node><node title=\"Umfang der Staatstätigkeit\"><node title=\"Staatsquote\"><text>                                Staatsquote = staatliche Ausgaben / Bruttoinlandsprodukt                                Beispiele: 1970 / 2004                                    Deutschland : 38,7% / 47,5%                                    Frankreich  : 38,9% / 54,5%                                    Griechenland: 22,1% / 52,0%                                    Japan       : 19,4% / 36,7%                                    USA         : 32,3% / 35,6%                                                                            </text></node><node title=\"Wagnersches Gesetz\"><text>                                Staat ist wichtiger Wirtschaftsfaktor                                Staatsquote wird allgemein immer größer                                wächst sogar schneller als BIP (=> Wagnersches Gesetzt)                                                                            </text></node><node title=\"Erklärungsansätze\"><text>mögliche Erklärungen für Wachstum der Staatsausgaben / Staatsquote</text><node title=\"superiore Güter\"><text>                                    einfachste Annahme: staatliche Leistungen sind \"superior\" (werden bei steigendem Einkommen vermehrt nachgefragt)                                    Staatsquotenanstieg reflektiert die Nachfrage der Bürger                                    Erläuterung (von mir):                                    - wenn jemand arm ist, hat er wenig Geld, er kann dann per se nur preiswerte Güter nachfragen, deren Bedarf von jedem Händler gestillt werden kann (z.B. Nahrung, Kleidung)                                    - wenn jemand mehr Geld hat, fragt er teurere Güter nach, vielleicht kauft er ein Auto und braucht Straßen, Infrastrukturausbau leistet dann der Staat, weil's für                                      private Marktteilnehmer eine zu hohe Investition mit zu niedrigen Erträgen ist (privat per Maut finanzierte Autobahnen gehen grad noch, eine Straße innerorts, deren                                      Benutzung kostenfrei erfolgt, geht schon nicht mehr, hat sich im Laufe der Zeit so entwickelt)                                    - wenn jemand saureich ist, verlangt es ihn wahrscheinlich nur noch nach immateriellen Gütern wie Frieden, Stabilität, Freiheit, das kann nur der Staat garantieren                                                                                        </text></node><node title=\"fiskalische Illusion\"><text>                                    Wähler verstehen Staatsausgaben nicht (v.a. woher der Staat das Geld hat, das er ausgibt)                                    Wähler wählen Regierungen, die hohe Staatsausgaben tätigen                                    Steuersysteme sind durchaus bewußt komplex, eben damit die Wähler sie nicht durchschauen                                                                                        </text></node><node title=\"intergenerationelle Lastenverschiebung\"><text>                                    Großprojekte werden mit sehr lang laufenden Krediten finanziert, so daß ein Teil der Last auf spätere Generationen verschoben wird                                    Anmerkung von mir: teilweise ist ein solches Vorgehen sogar sinnvoll, etwa wenn heute eine Brücke gebaut wird, die hundert Jahre hält und von zukünftigen Generationen ebenso genutzt wird wie von heutigen, dann kann man auch die zukünftigen Generationen an den Kosten beteiligen                                                                                        </text></node><node title=\"Urbanisierung\"><text>Brecht'sches Gesetz: Staatsausgaben in Städten sind höher als auf dem Land, höhere Quote Stadt-/Landbewohner führen zu höheren Staatsausgaben; Arnold Brecht 1927</text></node><node title=\"Baumol-Effekt\"><text>                                    technischer Fortschritt => verbilligt Waren stark, Dienstleistungen nur schwach => Ausgabenanteil an Dienstleistungen steigt                                    staatliche Leistungen sind meist Dienstleistungen => Staatsausgaben steigen                                    auch: Baumol-Kostenkrankheit                                    William Baumol 1967                                    TODO: besser erklären                                                                                        </text></node><node title=\"Demokratisierung\"><text>                                    in letzten 150 Jahren wurde das Wahlrecht immer breiter verteilt                                    der \"Durchschnittswähler\" wurde immer ärmer und setzte immer mehr staatliche Leistungen zu seinen Gunsten durch                                                                                        </text></node><node title=\"demografischer Wandel\"><text>                                    höhere staatliche Leistungen wie Altersrente, Gesundheitsausgaben, Linderung der Altersarmut                                    Anmerkung: in Deutschland durch hohe soziale Standards und schnelle Vergreisung besonders ausgeprägt                                                                                        </text></node></node></node><node title=\"Übungsaufgaben\"><node title=\"Aufgabe 1\"><text>                                Abgrenzung staatlicher Institutionen von privaten durch                                1. höhere Finanzmittel                                2. mögliche Zwangsausübung                                3. geringere Produktivität                                4. Gemeinwohlorientierung                                5. kollektive Entscheidungen                                mögliche Antworten                                a) 1., 3. und 5.                                b) 2. und 5.                                c) 2., 3. und 4.                                d) 1., 2. und 5.                                                                            </text></node><node title=\"Aufgabe 2\"><text>                                Baumol-Effekt triff auf bei                                a) gleicher Produktivitätszuwachs in Industrie und Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung gering ist                                b) geringem Produktivitätszuwachs in Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung groß ist                                c) geringem Produktivitätszuwachs in Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung gering ist                                d) hohem Produktivitätszuwachs in Dienstleistung, wenn Nachfrage nach staatlicher Dienstleistung groß ist                                                                            </text></node><node title=\"Aufgabe 3\"><text>                                ökonomische Rolle des Staats                                a) einziger Ausüber von Zwang                                b) Zwangsmöglichkeit durch Wahlen begrenzt                                c) staatliches Handeln als kollektive Entscheidung                                d) alles richtig                                                                            </text></node><node title=\"Aufgabe 4\"><text>                                Wagnersches Gesetz des Staatsausgabenwachstums                                a) Staatsausgaben wachsen schneller als Sozialprodukt                                b) Wählerkönnen Steuererhebungen und Staatsausgaben nicht korrelieren                                c) zunehmende Umverteilung durch breiteres Wahlrecht                                d) Staatsausgabenwachstum zu hoch                                                                            </text></node><node title=\"Aufgabe 5\"><text>                                herausragende Person in Erforschung gesellschaftlicher Entscheidungsregeln                                a) Keynes                                b) Pigou                                c) Wicksell                                d) Musgrave                                                                            </text></node><node title=\"Aufgabe 6\"><text>                                normativer Zweig                                                                a) Beurteilung tatsächlichen Verhaltens staatlicher Akteure                                b) Erklärung tatsächlichen Verhaltens staatlicher Akteure                                c) Analyse der Musgraveschen Stabilisierungsaufgabe                                d) etwas anderes                                                                            </text></node><node title=\"Aufgabe 7\"><text>                                Staatsquote                                a) mißt Umfang der Staatstätigkeit schlecht, weil Ausgaben zur sozialen Sicherung nicht enthalten                                b) hoch, wenn Staat nur superiore Güter anbietet                                c) nimmt laut Wagnerschem Gesetz mit Zeit zu                                d) richtig sind b und c                                                                            </text></node><node title=\"Aufgabe 8\"><text>                                konsistente individuelle Präferenzen                                                                a) sind nicht hinreichend für konsistente kollektive                                b) sind hinreichend für konsistente kollektive                                c) unwichtig in Politik wegen Möglichkeit politischen Zwangs                                d) richtig sind b und c                                                                            </text></node><node title=\"Aufgabe 9\"><text>                                frühe Informationsökonomik                                a) durch Erik Lindahl und Arthur Pigou                                b) wenig Einfluß auf Finanzwissenschaft                                c) durch John Maynard Keynes und Richard Musgrave                                d) behandelt steuer- und versicherungstheoretische Fragen                                                                            </text></node><node title=\"Aufgabe 10\"><text>                                Fiskalillusion                                a) Politik verschleiert bewußt Gesamtabgabenlast durch Komplexität der Einnahme-/Ausgabesysteme                                b) bei geringem Produktivitätswachstum bei privaten Dienstleistungen, wenn Nachfrage nach staatlichen hoch ist                                c) Folge zunehmender Urbanisierung                                d) richtig sind b und c                                                                            </text></node></node></node></node><node title=\"Teil 1 Normative Theorie der Staatstätigkeit\"><node title=\"Die wohlfahrtsökonomische Referenzwelt\"></node><node title=\"öffentliche Güter\"></node><node title=\"externe Effekte\"></node><node title=\"doofer Titel\"><text>doofe Beschreibung</text></node></node><node title=\"Teil 2 Positive Theorie der Staatstätigkeit\"></node><node title=\"Teil 3 Öffentliche Einnahmen\"></node><node title=\"Teil 4 Der Wohlfahrtsstaat\"></node></node></node></document>");
        ArrayList<Document> l = new ArrayList<Document>();
        l.add(document);
        
        return l;
    }

    public Document findDocumentEntity(Long id) {
//        EntityManager em = getEntityManager();
//        try {
//            return em.find(Document.class, id);
//        } finally {
//            em.close();
//        }
        
        return document;
    }

    public int getDocumentEntityCount() {
//        EntityManager em = getEntityManager();
//        try {
//            CriteriaQuery cq = em.getCriteriaBuilder().createQuery();
//            Root<Document> rt = cq.from(Document.class);
//            cq.select(em.getCriteriaBuilder().count(rt));
//            Query q = em.createQuery(cq);
//            return ((Long) q.getSingleResult()).intValue();
//        } finally {
//            em.close();
//        }
        
        return 1;
    }
    
}
